{
  "task_id": "BigCodeBench/287",
  "instruct_prompt": "Count the number of words in .txt files within a specified directory, export the counts to a JSON file, and then return the total number of words.\nThe function should output with:\n    int: total number of words in .txt files\nYou should write self-contained code starting with:\n```\nfrom collections import Counter\nimport os\nimport json\ndef task_func(filename, directory):\n```",
  "llm_response": "from collections import Counter\nimport os\nimport json\ndef task_func(filename, directory):\n    # Initialize a counter for total words\n    total_word_count = 0\n    # Dictionary to store word counts for each file\n    word_counts = {}\n\n    # Iterate over all files in the specified directory\n    for file in os.listdir(directory):\n        # Check if the file is a .txt file\n        if file.endswith('.txt'):\n            file_path = os.path.join(directory, file)\n            with open(file_path, 'r', encoding='utf-8') as f:\n                # Read the file content\n                content = f.read()\n                # Split the content into words\n                words = content.split()\n                # Count the number of words in the current file\n                word_count = len(words)\n                # Update the total word count\n                total_word_count += word_count\n                # Store the word count for the current file\n                word_counts[file] = word_count\n\n    # Export the word counts to a JSON file\n    with open(filename, 'w', encoding='utf-8') as json_file:\n        json.dump(word_counts, json_file, indent=4)\n\n    # Return the total number of words\n    return total_word_count",
  "model": "gpt-4o"
}