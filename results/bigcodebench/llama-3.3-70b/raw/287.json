{
  "task_id": "BigCodeBench/287",
  "instruct_prompt": "Count the number of words in .txt files within a specified directory, export the counts to a JSON file, and then return the total number of words.\nThe function should output with:\n    int: total number of words in .txt files\nYou should write self-contained code starting with:\n```\nfrom collections import Counter\nimport os\nimport json\ndef task_func(filename, directory):\n```",
  "llm_response": "from collections import Counter\nimport os\nimport json\ndef task_func(filename, directory):\n    \"\"\"\n    Count the number of words in .txt files within a specified directory, \n    export the counts to a JSON file, and then return the total number of words.\n\n    Args:\n        filename (str): The name of the JSON file to export the word counts to.\n        directory (str): The path to the directory containing the .txt files.\n\n    Returns:\n        int: The total number of words in the .txt files.\n    \"\"\"\n\n    # Initialize a variable to store the total word count\n    total_word_count = 0\n\n    # Initialize a dictionary to store the word counts for each file\n    word_counts = {}\n\n    # Iterate over each file in the directory\n    for filename_txt in os.listdir(directory):\n        # Check if the file is a .txt file\n        if filename_txt.endswith(\".txt\"):\n            # Open the file and read its contents\n            with open(os.path.join(directory, filename_txt), 'r') as file:\n                # Split the contents into words\n                words = file.read().split()\n\n                # Count the number of words in the file\n                word_count = len(words)\n\n                # Update the total word count\n                total_word_count += word_count\n\n                # Store the word count for the file\n                word_counts[filename_txt] = word_count\n\n    # Export the word counts to a JSON file\n    with open(filename, 'w') as file:\n        json.dump(word_counts, file)\n\n    # Return the total word count\n    return total_word_count\ndirectory = '/path/to/your/directory'\nfilename = 'word_counts.json'",
  "model": "llama-3.3-70b"
}