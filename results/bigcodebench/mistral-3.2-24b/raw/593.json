{
  "task_id": "BigCodeBench/593",
  "instruct_prompt": "Generates traffic data for different vehicle types over a specified number of hours, saves the data to a CSV file with coloumns 'Time', 'Car', 'Bus', 'Truck', and 'Bike', and plots the data in a line chart with 'Time' on x-axis and 'Vehicle Count' on y-axis.\nThe function should output with:\n    tuple: Path to the CSV file and the matplotlib axes object of the line plot.\nYou should write self-contained code starting with:\n```\nimport csv\nimport os\nfrom datetime import datetime\nfrom random import randint\nimport matplotlib.pyplot as plt\nimport pandas as pd\n# Constants\nVEHICLE_TYPES = ['Car', 'Bus', 'Truck', 'Bike']\nOUTPUT_DIR = './output'\ndef task_func(hours, output_dir=OUTPUT_DIR):\n```",
  "llm_response": "import csv\nimport os\nfrom datetime import datetime\nfrom random import randint\nimport matplotlib.pyplot as plt\nimport pandas as pd\nOUTPUT_DIR = './output'\ndef task_func(hours, output_dir=OUTPUT_DIR):\n    \"\"\"\n    Generates traffic data for different vehicle types over a specified number of hours,\n    saves the data to a CSV file, and plots the data in a line chart.\n\n    Args:\n        hours (int): Number of hours to generate data for\n        output_dir (str): Directory to save the output CSV file\n\n    Returns:\n        tuple: Path to the CSV file and the matplotlib axes object of the line plot\n    \"\"\"\n    # Create output directory if it doesn't exist\n    os.makedirs(output_dir, exist_ok=True)\n\n    # Generate timestamp for filename\n    timestamp = datetime.now().strftime(\"%Y%m%d_%H%M%S\")\n    csv_filename = os.path.join(output_dir, f\"traffic_data_{timestamp}.csv\")\n\n    # Generate traffic data\n    traffic_data = []\n    for hour in range(hours):\n        time_str = f\"{hour:02d}:00\"\n        vehicle_counts = {\n            'Time': time_str,\n            'Car': randint(50, 200),\n            'Bus': randint(5, 30),\n            'Truck': randint(10, 50),\n            'Bike': randint(20, 100)\n        }\n        traffic_data.append(vehicle_counts)\n\n    # Save to CSV\n    with open(csv_filename, 'w', newline='') as csvfile:\n        fieldnames = ['Time', 'Car', 'Bus', 'Truck', 'Bike']\n        writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n        writer.writeheader()\n        writer.writerows(traffic_data)\n\n    # Create the plot\n    df = pd.read_csv(csv_filename)\n    df.set_index('Time', inplace=True)\n\n    plt.figure(figsize=(10, 6))\n    ax = df.plot.line(rot=45)\n\n    plt.title(f'Traffic Data Over {hours} Hours')\n    plt.xlabel('Time')\n    plt.ylabel('Vehicle Count')\n    plt.grid(True)\n    plt.tight_layout()\n\n    return csv_filename, ax",
  "model": "mistral-3.2-24b"
}