{
  "task_id": "BigCodeBench/657",
  "instruct_prompt": "Generate word vectors from a list of texts using the gensim Word2Vec model and nltk.corpus.stopwords. The texts are first cleaned by removing all non-alphanumeric characters except space, lowercased, and stop words are removed.\nThe function should output with:\n    Word2Vec: A trained Word2Vec model.\nYou should write self-contained code starting with:\n```\nimport re\nimport nltk\nfrom gensim.models import Word2Vec\n# Constants\nALPHANUMERIC = re.compile('[\\W_]+')\ndef task_func(texts, stopwords=None):\n```",
  "llm_response": "import re\nimport nltk\nfrom gensim.models import Word2Vec\nfrom nltk.corpus import stopwords\nALPHANUMERIC = re.compile('[\\W_]+')\ndef task_func(texts, stopwords=None):\n    \"\"\"\n    Generate word vectors from a list of texts using the gensim Word2Vec model.\n    The texts are first cleaned by removing all non-alphanumeric characters except space, lowercased, and stop words are removed.\n    \n    Parameters:\n    texts (list of str): A list of texts to process and train the Word2Vec model on.\n    stopwords (set of str, optional): A set of stopwords to remove. If None, uses nltk's English stopwords.\n    \n    Returns:\n    Word2Vec: A trained Word2Vec model.\n    \"\"\"\n    # Download nltk stopwords if not already downloaded\n    try:\n        nltk.data.find('corpora/stopwords')\n    except LookupError:\n        nltk.download('stopwords')\n    if stopwords is None:\n        stopwords = set(stopwords.words('english'))\n    # Process each text\n    processed_texts = []\n    for text in texts:\n        # Remove non-alphanumeric characters and lowercase\n        cleaned_text = ALPHANUMERIC.sub(' ', text.lower())\n        # Tokenize and remove stopwords\n        tokens = [word for word in cleaned_text.split() if word not in stopwords]\n        processed_texts.append(tokens)\n    # Train Word2Vec model\n    model = Word2Vec(sentences=processed_texts, vector_size=100, window=5, min_count=1, workers=4)\n    return model",
  "model": "deepseek-chat-v3-0324"
}