{
  "task_id": "3701",
  "task_description": "You are given a string caption of length n. A good caption is a string where every character appears in groups of at least 3 consecutive occurrences.\nFor example:\n\n\"aaabbb\" and \"aaaaccc\" are good captions.\n\"aabbb\" and \"ccccd\" are not good captions.\n\nYou can perform the following operation any number of times:\nChoose an index i (where 0 <= i < n) and change the character at that index to either:\n\nThe character immediately before it in the alphabet (if caption[i] != 'a').\nThe character immediately after it in the alphabet (if caption[i] != 'z').\n\nYour task is to convert the given caption into a good caption using the minimum number of operations, and return it. If there are multiple possible good captions, return the lexicographically smallest one among them. If it is impossible to create a good caption, return an empty string \"\".\n \nExample 1:\n\nInput: caption = \"cdcd\"\nOutput: \"cccc\"\nExplanation:\nIt can be shown that the given caption cannot be transformed into a good caption with fewer than 2 operations. The possible good captions that can be created using exactly 2 operations are:\n\n\"dddd\": Change caption[0] and caption[2] to their next character 'd'.\n\"cccc\": Change caption[1] and caption[3] to their previous character 'c'.\n\nSince \"cccc\" is lexicographically smaller than \"dddd\", return \"cccc\".\n\nExample 2:\n\nInput: caption = \"aca\"\nOutput: \"aaa\"\nExplanation:\nIt can be proven that the given caption requires at least 2 operations to be transformed into a good caption. The only good caption that can be obtained with exactly 2 operations is as follows:\n\nOperation 1: Change caption[1] to 'b'. caption = \"aba\".\nOperation 2: Change caption[1] to 'a'. caption = \"aaa\".\n\nThus, return \"aaa\".\n\nExample 3:\n\nInput: caption = \"bc\"\nOutput: \"\"\nExplanation:\nIt can be shown that the given caption cannot be converted to a good caption by using any number of operations.\n\n \nConstraints:\n\n1 <= caption.length <= 5 * 10^4\ncaption consists only of lowercase English letters.",
  "llm_response": "def minCostGoodCaption(caption):\n    n = len(caption)\n    if n < 3:\n        return \"\"\n    \n    def get_cost(s, target):\n        cost = 0\n        for c in s:\n            if c != target:\n                cost += 1\n        return cost\n    \n    def can_transform(c, target):\n        if c == target:\n            return True\n        if target == 'a':\n            return False\n        if target == 'z':\n            return c != 'a'\n        return True\n    \n    def transform_char(c, target):\n        if c == target:\n            return 0\n        if target < c:\n            return ord(c) - ord(target)\n        else:\n            return ord(target) - ord(c)\n    \n    def check_good(s):\n        i = 0\n        while i < len(s):\n            j = i\n            while j < len(s) and s[j] == s[i]:\n                j += 1\n            if j - i < 3:\n                return False\n            i = j\n        return True\n    \n    from collections import defaultdict\n    import sys\n    \n    unique_chars = sorted(list(set(caption)))\n    if len(unique_chars) == 1:\n        return caption\n    \n    best_result = \"\"\n    min_operations = float('inf')\n    \n    for target_char in 'abcdefghijklmnopqrstuvwxyz':\n        new_caption = list(caption)\n        operations = 0\n        for i in range(n):\n            if new_caption[i] != target_char:\n                new_caption[i] = target_char\n                operations += 1\n        \n        if check_good(new_caption):\n            if operations < min_operations:\n                min_operations = operations\n                best_result = \"\".join(new_caption)\n            elif operations == min_operations:\n                candidate = \"\".join(new_caption)\n                if candidate < best_result or best_result == \"\":\n                    best_result = candidate\n    \n    if min_operations == float('inf'):\n        return \"\"\n    \n    return best_result",
  "model": "qwen3-coder"
}